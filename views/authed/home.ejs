<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = 'stylesheet' href = '/css/reset.css'>
    <link rel = 'stylesheet' href = '/css/normalize.css'>
    <link rel = 'stylesheet' href = '/css/style.css'>
    <link rel = 'stylesheet' href = '/css/home.css'>
    <title>Home</title>
</head>
<body>
    <header class = 'flex column alignItems justifyContent'>
        <div class = 'banner'></div>

<nav class = 'flex'>
        <li><a href = '/user'><h2 class = 'logo'>Fate Grand Order</h2></a></li>

        <ul class = 'flex row'>
            <li><a href = '/user'>Home</a></li>
            <li><a href = '/user/add'>Add Servant</a></li>
            <li><a href = '/user/servants'>See Servant Data</a></li>
            <li><a href = '/user/gameplay'>Gameplay</a></li>
            <li><a href = '/user/simulator'>Simulator</a></li>
            <li><a href = '/auth/logout'>Logout</a></li>
        </ul>
</nav>

<section class = 'flex justifyContent alignItems column section'>
            <h1 class = 'flex justifyContent'>Welcome <%= name %>!</h1>
            <h2 class = 'flex justifyContent'>Your Servants</h2>
<% let check = 0 %>
           
     
            <% for(let i =0; i < info.length; i++) { %>
              

                <% if(info[i].servant[0] && info[i].user._id==userID) { %>

                    <% check +=1 %>


        <div href = '/user/<%= info[i]._id %>' class = 'flex alignItems justifyContent button'> 


            <form action="/user/delete/<%= info[i]._id  %>?_method=DELETE" method="POST" class ='edit-delete'>

            <a href = '/user/edit/<%= info[i]._id %>' class = 'button'><i class="fa-solid fa-pen"></i></a>
                
            <button class="button btn-primary fa fa-trash" type="submit"></button>
         

            </form>



            <div class = 'flex alignItems column '>
                <h2>Servant Name: <%= info[i].servant[0].name %></h2>
                <% let className = info[i].servant[0].className.split('').map(ele => { %>
                        <% if(ele === ele.toUpperCase()) { %>
                           <% return ' ' + ele %>
                            <% } %>
                        <% if(ele != ele.toUpperCase()) { %>
                           <% return ele %>
                            <% } %>
               <% }).join('') %>
                <h3>Servant Class: <%=className %></h3> 
                <a href = '/user/<%= info[i]._id %>' class = 'button'>Go to <%= info[i].servant[0].name %>'s page</a>
            </div>

           
            <% let array = [info[i].servant[0].cloud_1.image, info[i].servant[0].cloud_2.image, info[i].servant[0].cloud_3.image, info[i].servant[0].cloud_4.image] %>
            
            <img src = '<%= array[info[i].ascension-1] %>'>
        </div>     
        <% } else if(!info[i].servant[0] && info[i].user._id==userID) { %>  
            <% check +=1 %>
            <div class = 'flex alignItems justifyContent button'> 
                <div class ='edit-delete' data-id = '<%= info[i]._id %>'>
                <a href = '/user/edit/<%= info[i]._id %>'><i class="fa-solid fa-pen"></i></a>
                
                <i class="fas fa-trash del"></i>
                </div>
                <h2>The servant you added couldn't be found</h2>

            </div>
        <% } %>

        <% } %>


 
            <% if(check == 0) { %>
                <h2>No Servants have been added yet</h2>
            <% } %>


</section>

<i class="fa-solid fa-angle-down arrow-down"><a href = '#one'></a></i>
</header>

<section id = 'one'>
</section>
       
        <section id = 'section1' class = 'flex column alignItems'>
            <div class = 'banner'></div>
            <a class = 'flex alignItems' href= '/user/add'>
                <div class = 'flex column content'>
                <h2>Add Servants</h2>
                <span>Create a page for a servant by submitting their information.</span>
                </div>
            <img src = '/home/add.PNG' alt = 'screenshot preview of the add servant page'>
            <p>Servants are heroes and villains summoned from various time periods by the Holy Grail to participate in the Holy Grail War.  Possessing amazing magical, physical and intellectual abilities, these servants are separated into different categories known as servant classes that define their main abilities.</p>
        </a>
        <i class="fa-solid fa-angle-down arrow-down1"><a href = '#two'></a></i>
        </section>

<div class = 'box flex two'>
    <div class = 'container flex justifyContent'>
    <i class="fa-solid fa-angle-down arrow-down2"><a href = '#three'></a></i>
    </div>
        <section id = 'two' class = 'flex alignItems column'>
            <div class = 'banner'></div>
            <a href = '/user/servants' class = 'flex column'>
            <h2> Preview Added Servants </h2>
            <span>View all the new pages that were created for each servant added.</span>
            <img src = '/home/preview.PNG' alt = 'screenshot preview of the servant page'>
            <p><!----></p>
            </a>
        </section>
</div>

<div class = 'flex three'>
<section id = 'three' class = 'flex alignItems column'>
    <div class = 'banner'></div>
    <a href = '/user/gameplay' class = 'flex column'>
    <h2> Gameplay of Servants </h2>
    <span>Preview of gameplay from Fate Grand Order, showcasing various animations and how the game plays.</span>
    <img src = '/home/comments.PNG' alt = 'screenshot preview of the servant comments page'>
    <p><!----></p>
    </a>
</section>
<div class = 'container flex justifyContent'>
    <i class="fa-solid fa-angle-down arrow-down3"><a href = '#four'></a></i>
</div>
</div>

<div class = 'four flex box'>
    <div class = 'container flex justifyContent'>
        <i class="fa-solid fa-angle-down arrow-down4"><a href = '#footer'></a></i>
    </div>
    <section id = 'four' class = 'flex alignItems column'>
        <div class = 'banner'></div>
        <a href = '/user/simulator' class = 'flex column'>
        <h2> Servant Simulator </h2>
        <span>See what it's like to fight with your added servant in this simulation!</span>
        <img src = '/home/simulator.PNG' alt = 'screenshot preview of the simulator page'>
        <p><!----></p>
        </a>
    </section>
 </div>


 

    <footer class = 'flex column alignItems' id = 'footer'>
        <section class = 'flex icons'>
        <i class="fa-brands fa-facebook-f"></i>
        <i class="fa-brands fa-instagram"></i>
        <i class="fa-brands fa-twitter"></i>
        <i class="fa-brands fa-github"></i>
        <i class="fa-solid fa-envelope"></i>
        </section>
          <nav>
        
              <ul class = 'flex justifyContent'>

                <li><a href = '/user'>Home</a></li>
                <li><a href = '/user/add'>Add Servant</a></li>
                <li><a href = '/user/servants'>See Servant Data</a></li>
                <li><a href = '/user/gameplay'>Gameplay</a></li>
                <li><a href = '/user/simulator'>Simulator</a></li>
                <li><a href = '/auth/logout'>Logout</a></li>
                </ul>
         </nav>

         <small>FGO app &copy; choir Design: HTML5 UP</small>
        
      </footer>
      
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>   
      <script src="https://kit.fontawesome.com/d0e0071c1c.js" crossorigin="anonymous"></script>
      <script src = '/js/home.js'></script>

</body>
</html>